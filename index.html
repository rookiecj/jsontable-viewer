<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="JSON 데이터를 테이블 형태로 변환하여 표시하는 웹 애플리케이션">
    <title>JSON Table Viewer</title>
    
    <!-- CSS 파일 연결 -->
    <link rel="stylesheet" href="styles/main.css">
    <link rel="stylesheet" href="styles/table.css">
</head>
<body>
    <!-- 테마 토글 버튼 -->
    <button id="theme-toggle" class="theme-toggle" title="테마 전환 (Ctrl+Shift+T)">
        🌙
    </button>

    <!-- 헤더 영역 -->
    <header class="header">
        <div class="container">
            <h1 class="header__title">JSON Table Viewer</h1>
            <p class="header__description">JSON 데이터를 직관적인 테이블 형태로 변환하여 표시합니다</p>
        </div>
    </header>

    <!-- 메인 컨텐츠 영역 -->
    <main class="main">
        <div class="container">
            <!-- JSON 입력 영역 -->
            <section class="input-section">
                <div class="input-group">
                    <label for="json-input" class="input-label">JSON 데이터 입력</label>
                    <textarea 
                        id="json-input" 
                        class="json-input" 
                        placeholder="JSON 데이터를 입력하거나 붙여넣기 하세요. 또는 JSON 파일을 드래그하여 놓으세요. 예: [{'name': 'John', 'age': 30}, {'name': 'Jane', 'age': 25}]"
                        rows="8"
                    ></textarea>
                    <input type="file" id="file-input" accept=".json,.jsonl,.geojson,.ndjson,.txt" style="display: none;">
                </div>
                
                <div class="button-group">
                    <button id="parse-btn" class="btn btn--primary">Parse JSON</button>
                    <button id="format-btn" class="btn btn--outline">Format JSON</button>
                    <button id="clear-btn" class="btn btn--secondary">Clear</button>
                    <button id="sample-btn" class="btn btn--outline">Load Sample</button>
                </div>
            </section>

            <!-- 테이블 표시 영역 -->
            <section class="table-section">
                <div class="table-header">
                    <h2 class="table-title">테이블 결과</h2>
                    <div class="table-controls">
                        <div class="search-container">
                            <input 
                                type="text" 
                                id="search-input" 
                                class="search-input" 
                                placeholder="테이블에서 검색..."
                                style="display: none;"
                            >
                            <button id="search-toggle" class="btn btn--outline btn--small">🔍</button>
                            <button id="search-clear" class="btn btn--secondary btn--small" style="display: none;">Clear</button>
                        </div>
                        <div class="table-info" id="table-info"></div>
                    </div>
                </div>
                
                <div class="table-container" id="table-container">
                    <!-- 빈 상태 메시지 -->
                    <div class="empty-state" id="empty-state">
                        <div class="empty-state__icon">📊</div>
                        <h3 class="empty-state__title">테이블이 비어있습니다</h3>
                        <p class="empty-state__description">JSON 데이터를 입력하고 "Parse JSON" 버튼을 클릭하세요.</p>
                    </div>
                    
                    <!-- 로딩 상태 -->
                    <div class="loading-state" id="loading-state" style="display: none;">
                        <div class="loading-spinner"></div>
                        <p class="loading-text">데이터를 처리 중입니다...</p>
                    </div>
                    
                    <!-- 에러 상태 -->
                    <div class="error-state" id="error-state" style="display: none;">
                        <div class="error-state__icon">⚠️</div>
                        <h3 class="error-state__title">오류가 발생했습니다</h3>
                        <p class="error-state__description" id="error-message"></p>
                    </div>
                    
                    <!-- 테이블 -->
                    <div class="table-wrapper" id="table-wrapper" style="display: none;">
                        <table class="data-table" id="data-table">
                            <thead id="table-head">
                                <!-- 테이블 헤더가 여기에 동적으로 생성됩니다 -->
                            </thead>
                            <tbody id="table-body">
                                <!-- 테이블 데이터가 여기에 동적으로 생성됩니다 -->
                            </tbody>
                        </table>
                    </div>
                </div>
            </section>
        </div>
    </main>

    <!-- JavaScript 파일 연결 -->
    <script src="scripts/state-manager.js"></script>
    <script src="scripts/theme-manager.js"></script>
    <script src="scripts/json-parser.js"></script>
    <script src="scripts/table-renderer.js"></script>
    <script src="scripts/main.js"></script>
</body>
</html>
