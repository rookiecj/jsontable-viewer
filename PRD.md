# JSON Table Viewer - Product Requirements Document

## 1. 제품 개요

### 1.1 제품명
JSON Table Viewer

### 1.2 제품 설명
JSON 데이터를 직관적인 테이블 형태로 변환하여 표시하는 웹 애플리케이션입니다. 사용자가 JSON 데이터를 입력하면 자동으로 테이블 구조로 변환하여 보여주며, 마지막 작업 상태를 저장하여 다음 방문 시 복원할 수 있습니다.

### 1.3 목표
- JSON 데이터의 가독성 향상
- 의존성 최소화로 빠른 로딩과 안정성 확보
- 사용자 경험 개선을 위한 상태 저장 기능

## 2. 핵심 기능

### 2.1 JSON 입력 및 파싱
- **기능**: 사용자가 JSON 데이터를 입력할 수 있는 텍스트 에리어 제공
- **요구사항**: 
  - 실시간 JSON 유효성 검사
  - 잘못된 JSON 입력 시 명확한 오류 메시지 표시
  - 다양한 JSON 구조 지원 (객체, 배열, 중첩 구조)

### 2.2 테이블 변환 및 표시
- **기능**: JSON 데이터를 HTML 테이블로 변환하여 표시
- **요구사항**:
  - 배열 데이터의 각 요소를 테이블 행으로 변환
  - 객체의 키를 테이블 헤더로 사용
  - 중첩된 객체/배열은 적절히 처리 (문자열화 또는 별도 표시)
  - 대용량 데이터 처리 시 가상화 또는 페이지네이션 고려

### 2.3 상태 저장 및 복원
- **기능**: 마지막 작업 상태를 로컬 스토리지에 저장하고 복원
- **요구사항**:
  - JSON 입력 데이터 저장
  - 테이블 표시 옵션 저장 (정렬, 필터 등)
  - 페이지 새로고침 시 자동 복원
  - 저장된 데이터 삭제 기능

### 2.4 추가 기능
- **정렬**: 컬럼별 오름차순/내림차순 정렬
- **검색**: 테이블 데이터 내 텍스트 검색
- **내보내기**: CSV, Excel 형태로 데이터 내보내기
- **반응형 디자인**: 모바일 및 태블릿 지원

## 3. 기술 요구사항

### 3.1 의존성 최소화
- **Vanilla JavaScript**: 외부 라이브러리 사용 최소화
- **CSS**: 순수 CSS 또는 최소한의 CSS 프레임워크
- **빌드 도구**: Webpack, Vite 등 사용하지 않고 순수 HTML/CSS/JS로 구현
- **CDN**: 필요한 경우에만 CDN 사용 (예: 아이콘 폰트)

### 3.2 브라우저 호환성
- **최소 지원**: Chrome 80+, Firefox 75+, Safari 13+, Edge 80+
- **기능**: ES6+ 문법 사용 가능
- **로컬 스토리지**: 모든 지원 브라우저에서 사용 가능

### 3.3 성능 요구사항
- **초기 로딩**: 3초 이내
- **JSON 파싱**: 1MB 이하 데이터는 1초 이내 처리
- **메모리 사용량**: 100MB 이하

## 4. 사용자 인터페이스

### 4.1 레이아웃
```
┌─────────────────────────────────────────┐
│              Header (제목)               │
├─────────────────────────────────────────┤
│  JSON Input Area                        │
│  ┌─────────────────────────────────────┐ │
│  │ { "data": [...] }                   │ │
│  │                                     │ │
│  └─────────────────────────────────────┘ │
│  [Parse JSON] [Clear] [Load Sample]     │
├─────────────────────────────────────────┤
│  Table Display Area                     │
│  ┌─────────────────────────────────────┐ │
│  │ Col1 │ Col2 │ Col3 │ ...            │ │
│  ├─────┼──────┼──────┼─────────────────┤ │
│  │ ... │ ...  │ ...  │ ...             │ │
│  └─────────────────────────────────────┘ │
│  [Export CSV] [Export Excel]            │
└─────────────────────────────────────────┘
```

### 4.2 색상 및 스타일
- **주 색상**: #2563eb (Blue)
- **보조 색상**: #64748b (Slate)
- **배경**: #ffffff (White)
- **테이블**: 깔끔한 보더와 호버 효과

## 5. 데이터 구조

### 5.1 저장되는 상태 데이터
```json
{
  "jsonInput": "string",
  "tableOptions": {
    "sortColumn": "string",
    "sortDirection": "asc|desc",
    "searchTerm": "string",
    "pageSize": "number"
  },
  "lastUpdated": "timestamp"
}
```

### 5.2 지원하는 JSON 구조
- **단순 배열**: `[{...}, {...}]`
- **객체 배열**: `{"users": [{...}, {...}]}`
- **중첩 구조**: 적절히 평면화하여 표시

## 6. 사용자 시나리오

### 6.1 기본 사용 시나리오
1. 사용자가 웹사이트에 접속
2. JSON 데이터를 입력 영역에 붙여넣기
3. "Parse JSON" 버튼 클릭
4. 테이블 형태로 변환된 데이터 확인
5. 필요시 정렬, 검색 기능 사용
6. 데이터 내보내기 (선택사항)

### 6.2 상태 복원 시나리오
1. 사용자가 이전에 작업한 데이터가 있는 상태로 사이트 접속
2. 자동으로 마지막 JSON 데이터와 설정 복원
3. 이전 작업 상태에서 계속 작업 가능

## 7. 성공 지표

### 7.1 기능적 지표
- JSON 파싱 성공률: 95% 이상
- 상태 복원 성공률: 100%
- 페이지 로딩 시간: 3초 이내

### 7.2 사용자 경험 지표
- 사용자 만족도: 4.0/5.0 이상
- 재방문율: 60% 이상
- 평균 세션 시간: 5분 이상

## 8. 제약사항 및 고려사항

### 8.1 기술적 제약사항
- 브라우저 로컬 스토리지 용량 제한 (일반적으로 5-10MB)
- 대용량 JSON 데이터 처리 시 성능 이슈
- 복잡한 중첩 구조의 테이블 변환 한계

### 8.2 보안 고려사항
- 로컬 스토리지에 민감한 데이터 저장 시 주의
- XSS 공격 방지를 위한 입력 데이터 검증

## 9. 개발 우선순위

### Phase 1 (MVP)
1. 기본 JSON 입력 및 파싱
2. 간단한 테이블 표시
3. 기본 상태 저장/복원

### Phase 2
1. 정렬 및 검색 기능
2. 데이터 내보내기
3. UI/UX 개선

### Phase 3
1. 고급 필터링
2. 테마 변경
3. 성능 최적화

## 10. 파일 구조

```
shadcn-jsontable/
├── index.html          # 메인 HTML 파일
├── styles/
│   ├── main.css        # 메인 스타일시트
│   └── table.css       # 테이블 전용 스타일
├── scripts/
│   ├── main.js         # 메인 애플리케이션 로직
│   ├── json-parser.js  # JSON 파싱 및 검증
│   ├── table-renderer.js # 테이블 렌더링
│   └── state-manager.js # 상태 저장/복원
├── assets/
│   └── icons/          # 아이콘 파일들
└── README.md           # 프로젝트 설명서
```

이 PRD는 JSON 테이블 뷰어의 핵심 기능과 요구사항을 정의하며, 의존성 최소화와 상태 저장 기능을 중점적으로 다루고 있습니다.
